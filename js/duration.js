var Duration=function(){function u(n){if(n instanceof u)return n;switch(typeof n){case"number":if(!isFinite(n))throw new Error("invalid duration: "+n);this._milliseconds=n;break;case"string":this._milliseconds=u.parse(n).valueOf();break;case"undefined":this._milliseconds=0;break;default:throw new Error("invalid duration: "+n)}}var i=1e3,r=6e4,s=36e5,n=24*s,t=7*n,e=.001,a={ns:1e-6,us:e,"µs":e,"μs":e,ms:1,s:i,m:r,h:s,d:n,w:t};return u.millisecond=new u(1),u.second=new u(i),u.minute=new u(r),u.hour=new u(s),u.day=new u(n),u.week=new u(t),u.prototype.nanoseconds=function(){return Math.floor(this._milliseconds/1e-6)},u.prototype.microseconds=function(){return Math.floor(this._milliseconds/e)},u.prototype.milliseconds=function(){return this._milliseconds},u.prototype.seconds=function(){return Math.floor(this._milliseconds/i)},u.prototype.minutes=function(){return Math.floor(this._milliseconds/r)},u.prototype.hours=function(){return Math.floor(this._milliseconds/s)},u.prototype.days=function(){return Math.floor(this._milliseconds/n)},u.prototype.weeks=function(){return Math.floor(this._milliseconds/t)},u.prototype.toString=function(){var n,t="",e=Math.abs(this._milliseconds),o=this._milliseconds<0?"-":"";return 0===e?"0":(0!==(n=Math.floor(e/s))&&(e-=s*n,t+=n.toString()+"h"),0!==(n=Math.floor(e/r))&&(e-=r*n,t+=n.toString()+"m"),0!==(n=Math.floor(e/i))&&(e-=i*n,t+=n.toString()+"s"),0!==e&&(t+=e.toString()+"ms"),o+t)},u.prototype.valueOf=function(){return this._milliseconds},u.parse=function(n){if("0"===n||"+0"===n||"-0"===n)return new u(0);for(var t,e,o=/([\-\+\d\.]+)([a-zµμ]+)/g,i=0,r=0,s="-"===n[0]?-1:1;e=o.exec(n);){if(t=e[2],e=Math.abs(parseFloat(e[1])),r++,isNaN(e))throw new Error("invalid duration");if(void 0===a[t])throw new Error("invalid unit: "+t);i+=e*a[t]}if(0===r)throw new Error("invalid duration");return new u(Math.floor(i)*s)},u.prototype.roundTo=function(n){n=new u(n).valueOf();this._milliseconds=n*Math.round(this._milliseconds/n)},u.prototype.isGreaterThan=function(n){return this.valueOf()>new u(n).valueOf()},u.prototype.isLessThan=function(n){return this.valueOf()<new u(n).valueOf()},u.prototype.isEqualTo=function(n){return this.valueOf()===new u(n).valueOf()},u.prototype.after=function(n){return new Date(n.valueOf()+this._milliseconds)},u.since=function(n){return new u((new Date).valueOf()-n.valueOf())},u.until=function(n){return new u(n.valueOf()-(new Date).valueOf())},u.fromMicroseconds=function(n){n=Math.floor(n/1e3);return new u(n)},u.fromNanoseconds=function(n){n=Math.floor(n/1e6);return new u(n)},u.between=function(n,t){return new u(t.valueOf()-n.valueOf())},u.add=function(n,t){return new u(n+t)},u.subtract=function(n,t){return new u(n-t)},u.multiply=function(n,t){return new u(n*t)},u.divide=function(n,t){return n/t},u}.call(this);!function(n){"function"==typeof define&&define.amd?define([],function(){return Duration}):"undefined"!=typeof module?module.exports=Duration:n.Duration=Duration}(this);